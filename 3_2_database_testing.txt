1. В таблицу attempt включить новую попытку для студента Баранова Павла по дисциплине «Основы баз данных». Установить текущую дату в качестве даты выполнения попытки.

Ответ:

INSERT INTO attempt (student_id, subject_id, date_attempt)
SELECT student.student_id, subject.subject_id, NOW() 
FROM student, subject  
WHERE name_student = 'Баранов Павел' AND name_subject = 'Основы баз данных';

SELECT * FROM attempt;

*****

2. Случайным образом выбрать три вопроса (запрос) по дисциплине, тестирование по которой собирается проходить студент, занесенный в таблицу attempt последним, и добавить их в таблицу testing. id последней попытки получить как максимальное значение id из таблицы attempt.

Ответ:

INSERT INTO testing (attempt_id, question_id)
SELECT attempt_id, question_id
FROM question
     INNER JOIN attempt USING(subject_id)
WHERE attempt_id = (SELECT MAX(attempt_id) 
                    FROM attempt)
ORDER BY RAND()
LIMIT 3;

SELECT * FROM testing;

*****

3. Студент прошел тестирование (то есть все его ответы занесены в таблицу testing), далее необходимо вычислить результат(запрос) и занести его в таблицу attempt для соответствующей попытки.  Результат попытки вычислить как количество правильных ответов, деленное на 3 (количество вопросов в каждой попытке) и умноженное на 100. Результат округлить до целого.

 Будем считать, что мы знаем id попытки,  для которой вычисляется результат, в нашем случае это 8.
 
 Ответ:
 
 
